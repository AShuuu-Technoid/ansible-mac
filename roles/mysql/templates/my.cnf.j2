[mysqld]
datadir=/data/mysql
socket=/var/lib/mysql/mysql.sock
symbolic-links=0

skip-external-locking
long_query_time=6
slow_query_log
slow_query_log_file=/var/log/log-slow-queries.log

#MySQL buffer conf

key_buffer_size = 128M
max_allowed_packet = 64M
table_open_cache = 4096
read_buffer_size = 2M
read_rnd_buffer_size = 8M
myisam_sort_buffer_size = 16M
thread_cache_size = 100

query_cache_size= 256M

thread_concurrency = 8

innodb_buffer_pool_size = 2G
innodb_log_file_size = 32M
innodb_additional_mem_pool_size = 8M
innodb_log_buffer_size = 4M

# added extra
max-connect-errors      = 1000000
tmp-table-size          = 64M
max-heap-table-size     = 64M
max-connections         = 1000
table-definition-cache  = 4096
open-files-limit        = 65535
innodb-flush-method     = O_DIRECT
innodb-flush-log-at-trx-commit = 1

[mysqld_safe]
myisam_recover_options
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid